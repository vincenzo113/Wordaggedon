<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.VBox?>
<?import javafx.geometry.Insets?>
<?import javafx.geometry.Pos?>

<StackPane fx:controller="com.example.controller.MainController" xmlns:fx="http://javafx.com/fxml">
    <VBox
            fx:id="registerVBox"
            stylesheets="@../css/login-style.css"
            alignment="CENTER" spacing="20.0" styleClass="register-view"
            visible="false" managed="false"
    >

        <padding>
            <Insets bottom="30.0" left="50.0" right="50.0" top="30.0" />
        </padding>

        <!-- Container principale del form -->
        <VBox fx:id="formContainer" alignment="CENTER" maxWidth="350.0" spacing="15.0" styleClass="form-container">
            <padding>
                <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
            </padding>

            <!-- Titolo -->
            <Label fx:id="titleLabel" text="Crea Account" styleClass="title-label">
                <font>
                    <Font name="System Bold" size="24.0" />
                </font>
            </Label>

            <!-- Sottotitolo -->
            <Label fx:id="subtitleLabel" text="Registrati per iniziare a giocare"
                   styleClass="subtitle-label" wrapText="true" textAlignment="CENTER" />

            <!-- Campo Username -->
            <VBox spacing="5.0">
                <Label text="Username" styleClass="field-label" />
                <TextField fx:id="registerUsernameField" prefWidth="290.0" promptText="Scegli un username"
                           styleClass="input-field" />
            </VBox>

            <!-- Campo Password -->
            <VBox spacing="5.0">
                <Label text="Password" styleClass="field-label" />
                <PasswordField fx:id="registerPasswordField" prefWidth="290.0" promptText="Crea una password sicura"
                               styleClass="input-field" />
            </VBox>

            <!-- Campo Conferma Password -->
            <VBox spacing="5.0">
                <Label text="Conferma Password" styleClass="field-label" />
                <PasswordField fx:id="confirmRegisterPasswordField" prefWidth="290.0" promptText="Ripeti la password"
                               styleClass="input-field" />
            </VBox>

            <!-- Progress indicator per operazioni async -->
            <ProgressIndicator fx:id="progressIndicator" visible="false" prefWidth="30.0" prefHeight="30.0" />

            <!-- Bottone Registrazione -->
            <Button fx:id="registerButton" defaultButton="true" prefWidth="290.0" text="Registrati"
                    styleClass="primary-button" onAction="#handleRegister" />

            <!-- Separatore -->
            <Separator prefWidth="200.0" styleClass="form-separator" />

            <!-- Link per tornare al login -->
            <HBox alignment="CENTER" spacing="5.0">
                <Label text="Hai già un account?" styleClass="secondary-text" />
                <Button fx:id="backToLoginButton" text="Accedi qui"
                        styleClass="link-button" onAction="#backToLogin" />
            </HBox>

        </VBox>
    </VBox>



    <VBox fx:id="loginVBox" alignment="CENTER" spacing="20.0"  stylesheets="@../css/login-style.css" styleClass="login-view">

        <padding>
            <Insets bottom="50.0" left="50.0" right="50.0" top="50.0" />
        </padding>

        <!-- Container principale del form -->
        <VBox fx:id="formLoginContainer" alignment="CENTER" maxWidth="300.0" spacing="15.0" styleClass="form-container">
            <padding>
                <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
            </padding>

            <!-- Titolo -->
            <Label fx:id="titleLoginLabel" text="Benvenuto" styleClass="title-label">
                <font>
                    <Font name="System Bold" size="24.0" />
                </font>
            </Label>

            <!-- Campo Username -->
            <TextField fx:id="loginUsernameField" prefWidth="250.0" promptText="Username" styleClass="input-field" />

            <!-- Campo Password -->
            <PasswordField fx:id="loginPasswordField" prefWidth="250.0" promptText="Password" styleClass="input-field" />

            <!-- Campo Email (nascosto inizialmente) -->
            <TextField fx:id="loginEmailField" prefWidth="250.0" promptText="Email" styleClass="input-field"
                       visible="false" managed="false" />

            <!-- Bottone Login -->
            <Button fx:id="loginButton" defaultButton="true" prefWidth="250.0" text="Accedi"
                    styleClass="primary-button" onAction="#handleLogin" />

            <!-- Bottone Registrazione (nascosto inizialmente) -->
            <Button fx:id="toRegisterButton" prefWidth="250.0" text="Registrati"
                    styleClass="primary-button" visible="false" managed="false" onAction="#handleRegister" />

            <!-- Bottone per switch modalità -->
            <Button fx:id="switchModeButton" text="Non hai un account? Registrati"
                    styleClass="link-button" onAction="#backToRegister" />

        </VBox>
    </VBox>


    <!-- VBox che contiene la schermata per scegliere la difficoltà del gioco -->
    <VBox fx:id="difficultyVBox" alignment="CENTER" spacing="20.0" stylesheets="@../css/login-style.css"
          styleClass="difficulty-view" visible="false" managed="false">

        <padding>
            <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
        </padding>

        <!-- Header semplificato -->
        <HBox alignment="TOP_RIGHT" prefHeight="20.0">
        </HBox>

        <!-- Container principale della selezione difficoltà -->
        <VBox fx:id="difficultyContainer" alignment="CENTER" maxWidth="420.0" spacing="25.0" styleClass="form-container">
            <padding>
                <Insets bottom="30.0" left="30.0" right="30.0" top="20.0" />
            </padding>

            <!-- Bottoni di controllo in alto nel container -->
            <HBox alignment="TOP_RIGHT" spacing="10.0" prefWidth="360.0">
                <Button fx:id="addTestoButton" text="Aggiungi Testo"
                        prefWidth="140.0" prefHeight="35.0"
                        style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 5px; -fx-cursor: hand;"
                        onAction="#addTesto" visible="false" managed="false">
                    <font>
                        <Font name="System Bold" size="12.0" />
                    </font>
                </Button>
                <Button fx:id="logoutButton" text="Logout" onAction="#handleLogout"
                        prefWidth="100.0" prefHeight="35.0"
                        style="-fx-background-color: #dc3545; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 5px; -fx-cursor: hand;"
                        styleClass="logout-button">
                    <font>
                        <Font name="System Bold" size="12.0" />
                    </font>
                </Button>
            </HBox>

            <!-- Header di benvenuto -->
            <VBox alignment="CENTER" spacing="8.0">
                <Label fx:id="welcomeHeaderLabel" text="Benvenuto in Wordageddon!" styleClass="title-label">
                    <font>
                        <Font name="System Bold" size="24.0" />
                    </font>
                </Label>

                <!-- Nome utente -->
                <Label fx:id="usernameWelcomeLabel" text="Ciao, [nome_username]!" styleClass="username-welcome">
                    <font>
                        <Font name="System" size="16.0" />
                    </font>
                </Label>

                <!-- Sottotitolo per la selezione -->
                <Label fx:id="difficultySubtitleLabel" text="Scegli un livello di difficoltà per iniziare"
                       styleClass="subtitle-label" wrapText="true" textAlignment="CENTER">
                    <font>
                        <Font name="System" size="14.0" />
                    </font>
                </Label>
            </VBox>

            <!-- Sezione radiobutton per difficoltà -->
            <VBox spacing="15.0" alignment="CENTER" maxWidth="350.0">
                <Label text="Livello di Difficoltà:" styleClass="field-label">
                    <font>
                        <Font name="System Bold" size="15.0" />
                    </font>
                </Label>

                <!-- Container per i radiobutton con miglior spaziatura -->
                <VBox spacing="12.0" alignment="CENTER_LEFT" prefWidth="320.0">
                    <RadioButton fx:id="easyRadio" text="★ FACILE - Domande base" styleClass="difficulty-radio easy-level"
                                 prefWidth="300.0" prefHeight="30.0">
                        <font>
                            <Font size="14.0" />
                        </font>
                        <toggleGroup>
                            <ToggleGroup fx:id="difficultyToggleGroup" />
                        </toggleGroup>
                    </RadioButton>

                    <RadioButton fx:id="mediumRadio" text="★★ MEDIO - Domande intermedie" styleClass="difficulty-radio medium-level"
                                 toggleGroup="$difficultyToggleGroup" selected="true"
                                 prefWidth="300.0" prefHeight="30.0">
                        <font>
                            <Font size="14.0" />
                        </font>
                    </RadioButton>

                    <RadioButton fx:id="hardRadio" text="★★★ DIFFICILE - Domande avanzate" styleClass="difficulty-radio hard-level"
                                 toggleGroup="$difficultyToggleGroup"
                                 prefWidth="300.0" prefHeight="30.0">
                        <font>
                            <Font size="14.0" />
                        </font>
                    </RadioButton>
                </VBox>
            </VBox>

            <!-- Container per i bottoni principali -->
            <VBox spacing="15.0" alignment="CENTER">
                <!-- Bottone Start principale -->
                <Button fx:id="startGameButton" defaultButton="true"
                        prefWidth="250.0" prefHeight="45.0"
                        text="Inizia Gioco"
                        styleClass="primary-button" onAction="#handleStartGame">
                    <font>
                        <Font name="System Bold" size="16.0" />
                    </font>
                </Button>
            </VBox>

        </VBox>
    </VBox>

    <!-- VBox originale per la visualizzazione del testo durante il gioco -->
    <VBox fx:id="testoVBox" alignment="CENTER" prefHeight="400.0" prefWidth="500.0" spacing="20.0" xmlns="http://javafx.com/javafx/8" visible="false" managed="false" >
        <children>
            <!-- Titolo principale -->
            <Label fx:id="titleQuiz" text="Titolo">
                <font>
                    <Font name="System Bold" size="24.0" />
                </font>
            </Label>

            <!-- Timer visuale basato sul tempo -->
            <VBox alignment="CENTER" spacing="10.0">
                <children>
                    <Label fx:id="timeLabel" text="" textFill="#333333">
                        <font>
                            <Font name="Courier New Bold" size="20.0" />
                        </font>
                    </Label>
                    <ProgressBar fx:id="timeProgressBar" prefHeight="20.0" prefWidth="300.0" progress="0.0" style="-fx-accent: #2196F3;" />

                </children>
            </VBox>

            <!-- Area di visualizzazione testo -->
            <Label fx:id="displayTextLabel" alignment="CENTER" maxWidth="400.0" minHeight="150.0" prefHeight="150.0" style="-fx-background-color: #f0f0f0; -fx-border-color: #cccccc; -fx-border-width: 1px; -fx-padding: 10px;" text="Il testo apparirà qui..." textAlignment="CENTER" wrapText="true">
                <font>
                    <Font size="16.0" />
                </font>
            </Label>

            <!-- Label per informazioni aggiuntive -->

        </children>
        <padding>
            <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
        </padding>
    </VBox>

    <VBox fx:id="domandaRispostaVBox" alignment="TOP_CENTER" prefHeight="600.0" prefWidth="700.0" spacing="20.0" visible="false" managed="false">
        <children>
            <Label text="Quiz di Valutazione">
                <font>
                    <Font name="System Bold" size="24.0" />
                </font>
            </Label>

            <ScrollPane fitToWidth="true" prefHeight="450.0" prefWidth="650.0">
                <content>
                    <VBox spacing="25.0">
                        <children>
                            <!-- DOMANDA 1 -->
                            <VBox spacing="10.0" style="-fx-background-color: #f8f9fa; -fx-padding: 15px; -fx-background-radius: 5px;">
                                <children>
                                    <Label fx:id="q1" text="1. Quale è la capitale d'Italia?" textFill="#2c3e50">
                                        <font>
                                            <Font name="System Bold" size="16.0" />
                                        </font>
                                    </Label>
                                    <RadioButton fx:id="q1opt1" text="Milano" />
                                    <RadioButton fx:id="q1opt2" text="Roma" />
                                    <RadioButton fx:id="q1opt3" text="Napoli" />
                                    <RadioButton fx:id="q1opt4" text="Torino" />
                                </children>
                            </VBox>

                            <!-- DOMANDA 2 -->
                            <VBox spacing="10.0" style="-fx-background-color: #f8f9fa; -fx-padding: 15px; -fx-background-radius: 5px;">
                                <children>
                                    <Label fx:id="q2" text="2. Quanti continenti ci sono nel mondo?" textFill="#2c3e50">
                                        <font>
                                            <Font name="System Bold" size="16.0" />
                                        </font>
                                    </Label>
                                    <RadioButton fx:id="q2opt1" text="5" />
                                    <RadioButton fx:id="q2opt2" text="6" />
                                    <RadioButton fx:id="q2opt3" text="7" />
                                    <RadioButton fx:id="q2opt4" text="8" />
                                </children>
                            </VBox>

                            <!-- DOMANDA 3 -->
                            <VBox spacing="10.0" style="-fx-background-color: #f8f9fa; -fx-padding: 15px; -fx-background-radius: 5px;">
                                <children>
                                    <Label fx:id="q3" text="3. Quale pianeta è più vicino al Sole?" textFill="#2c3e50">
                                        <font>
                                            <Font name="System Bold" size="16.0" />
                                        </font>
                                    </Label>
                                    <RadioButton fx:id="q3opt1" text="Venere" />
                                    <RadioButton fx:id="q3opt2" text="Mercurio" />
                                    <RadioButton fx:id="q3opt3" text="Terra" />
                                    <RadioButton fx:id="q3opt4" text="Marte" />
                                </children>
                            </VBox>

                            <!-- DOMANDA 4 -->
                            <VBox spacing="10.0" style="-fx-background-color: #f8f9fa; -fx-padding: 15px; -fx-background-radius: 5px;">
                                <children>
                                    <Label fx:id="q4" text="4. Quale è l'oceano più grande?" textFill="#2c3e50">
                                        <font>
                                            <Font name="System Bold" size="16.0" />
                                        </font>
                                    </Label>
                                    <RadioButton fx:id="q4opt1" text="Oceano Atlantico" />
                                    <RadioButton fx:id="q4opt2" text="Oceano Indiano" />
                                    <RadioButton fx:id="q4opt3" text="Oceano Pacifico" />
                                    <RadioButton fx:id="q4opt4" text="Oceano Artico" />
                                </children>
                            </VBox>
                        </children>
                        <padding>
                            <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                        </padding>
                    </VBox>
                </content>
            </ScrollPane>

            <HBox alignment="CENTER" spacing="20.0">
                <children>
                    <Button fx:id="nextButton" prefHeight="40.0" prefWidth="150.0" style="-fx-background-color: #007bff; -fx-text-fill: white; -fx-font-size: 16px; -fx-background-radius: 5px;" text="Avanti" onAction="#finishGame" />
                </children>
            </HBox>
        </children>
        <padding>
            <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
        </padding>
    </VBox>





    <VBox fx:id="finalScoreVBox"
          alignment="CENTER" prefHeight="600.0" prefWidth="700.0" spacing="20.0" visible="false" managed="false">

        <Label fx:id="scoreLabel"
               text="Punteggio finale: 0"
               style="-fx-font-size: 28px; -fx-text-fill: #222; -fx-alignment: center;" />

        <Button text="Avanti"
                onAction="#goToScoreboard"
                prefWidth="150"
                style="-fx-background-color: #007bff; -fx-text-fill: white; -fx-font-size: 16px;" />


    </VBox>



    <VBox spacing="15" alignment="CENTER" fx:id="scoreboardVBox" visible="false" managed="false">

        <padding>
            <Insets top="20" right="20" bottom="20" left="20"/>
        </padding>

        <!-- CheckBox sopra la tabella -->
        <CheckBox fx:id="punteggiPersonaliCheckBox" text="Punteggi Personali"/>

        <!-- Tabella -->
        <TableView fx:id="tableView" VBox.vgrow="ALWAYS" maxWidth="600">
            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
            </columnResizePolicy>
            <columns>
                <TableColumn fx:id="utenteColumn" text="UTENTE"/>
                <TableColumn fx:id="scoreColumn" text="SCORE"/>
                <TableColumn fx:id="difficoltaColumn" text="DIFFICOLTÀ"/>
            </columns>
        </TableView>

        <!-- Un solo bottone -->
        <Button fx:id="avantiButton" text="Avanti" minWidth="150"
                style="-fx-background-color: #2196F3; -fx-text-fill: white;"/>

    </VBox>



</StackPane>