<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.VBox?>
<?import javafx.geometry.Insets?>
<?import javafx.geometry.Pos?>

<StackPane fx:controller="com.example.controller.MainController" xmlns:fx="http://javafx.com/fxml">
    <VBox
            fx:id="registerVBox"
            stylesheets="@../css/register-style.css"
            alignment="CENTER" spacing="20.0" styleClass="register-view"
            visible="false" managed="false"
    >

        <padding>
            <Insets bottom="30.0" left="50.0" right="50.0" top="30.0" />
        </padding>

        <!-- Container principale del form -->
        <VBox fx:id="formContainer" alignment="CENTER" maxWidth="350.0" spacing="15.0" styleClass="form-container">
            <padding>
                <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
            </padding>

            <!-- Titolo -->
            <Label fx:id="titleLabel" text="Crea Account" styleClass="title-label">
                <font>
                    <Font name="System Bold" size="24.0" />
                </font>
            </Label>

            <!-- Sottotitolo -->
            <Label fx:id="subtitleLabel" text="Registrati per iniziare a giocare"
                   styleClass="subtitle-label" wrapText="true" textAlignment="CENTER" />

            <!-- Campo Username -->
            <VBox spacing="5.0">
                <Label text="Username" styleClass="field-label" />
                <TextField fx:id="registerUsernameField" prefWidth="290.0" promptText="Scegli un username"
                           styleClass="input-field" />
            </VBox>

            <!-- Campo Password -->
            <VBox spacing="5.0">
                <Label text="Password" styleClass="field-label" />
                <PasswordField fx:id="registerPasswordField" prefWidth="290.0" promptText="Crea una password sicura"
                               styleClass="input-field" />
            </VBox>

            <!-- Campo Conferma Password -->
            <VBox spacing="5.0">
                <Label text="Conferma Password" styleClass="field-label" />
                <PasswordField fx:id="confirmRegisterPasswordField" prefWidth="290.0" promptText="Ripeti la password"
                               styleClass="input-field" />
            </VBox>

            <!-- Bottone Registrazione -->
            <Button fx:id="registerButton" defaultButton="true" prefWidth="290.0" text="Registrati"
                    styleClass="primary-button" onAction="#handleRegister" />

            <!-- Separatore -->
            <Separator prefWidth="200.0" styleClass="form-separator" />

            <!-- Link per tornare al login -->
            <Button fx:id="backToLoginButton" text="Hai già un account? Accedi qui"
                    styleClass="link-button" onAction="#backToLogin" />


        </VBox>
    </VBox>

    <VBox fx:id="loginVBox" alignment="CENTER" spacing="20.0"  stylesheets="@../css/login-style.css" styleClass="login-view">

        <padding>
            <Insets bottom="50.0" left="50.0" right="50.0" top="50.0" />
        </padding>

        <!-- Container principale del form -->
        <VBox fx:id="formLoginContainer" alignment="CENTER" maxWidth="300.0" spacing="15.0" styleClass="form-container">
            <padding>
                <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
            </padding>

            <!-- Titolo -->
            <Label fx:id="titleLoginLabel" text="Benvenuto" styleClass="title-label">
                <font>
                    <Font name="System Bold" size="24.0" />
                </font>
            </Label>

            <!-- Campo Username -->
            <TextField fx:id="loginUsernameField" prefWidth="250.0" promptText="Username" styleClass="input-field" />

            <!-- Campo Password -->
            <PasswordField fx:id="loginPasswordField" prefWidth="250.0" promptText="Password" styleClass="input-field" />

            <!-- Bottone Login -->
            <Button fx:id="loginButton" defaultButton="true" prefWidth="250.0" text="Accedi"
                    styleClass="primary-button" onAction="#handleLogin" />

            <!-- Separatore -->
            <Separator prefWidth="200.0" styleClass="form-separator" />

            <!-- Bottone per switch modalità -->
            <Button fx:id="switchModeButton" text="Non hai un account? Registrati"
                    styleClass="link-button" onAction="#backToRegister" />

        </VBox>
    </VBox>


    <!-- VBox che contiene la schermata per scegliere la difficoltà del gioco -->
    <VBox fx:id="difficultyVBox" alignment="CENTER" spacing="20.0" stylesheets="@../css/difficulty-style.css"
          styleClass="difficulty-view" visible="false" managed="false">

        <padding>
            <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
        </padding>

        <!-- Header semplificato -->
        <HBox alignment="TOP_RIGHT" prefHeight="20.0">
        </HBox>

        <!-- Container principale della selezione difficoltà -->
        <VBox fx:id="difficultyContainer" alignment="CENTER" maxWidth="420.0" spacing="25.0" styleClass="form-container">
            <padding>
                <Insets bottom="30.0" left="30.0" right="30.0" top="20.0" />
            </padding>

            <!-- Bottoni di controllo in alto nel container -->
            <HBox alignment="TOP_RIGHT" spacing="10.0" prefWidth="360.0">

                <Button fx:id="leaderboardButton" text="Leaderboard"
                        prefWidth="140.0" prefHeight="35.0"
                        style="-fx-background-color: #8cc184; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 5px; -fx-cursor: hand;"
                        onAction="#goLeaderboard">
                    <font>
                        <Font name="System Bold" size="12.0" />
                    </font>
                </Button>

                <Button fx:id="settingsButton" text="Impostazioni"
                        prefWidth="140.0" prefHeight="35.0"
                        style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 5px; -fx-cursor: hand;"
                        onAction="#goSettings">
                    <font>
                        <Font name="System Bold" size="12.0" />
                    </font>
                </Button>

                <Button fx:id="logoutButton" text="Logout" onAction="#handleLogout"
                        prefWidth="100.0" prefHeight="35.0"
                        style="-fx-background-color: #dc3545; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 5px; -fx-cursor: hand;"
                        styleClass="logout-button">
                    <font>
                        <Font name="System Bold" size="12.0" />
                    </font>
                </Button>
            </HBox>

            <!-- Header di benvenuto -->
            <VBox alignment="CENTER" spacing="8.0">
                <Label fx:id="welcomeHeaderLabel" text="Benvenuto in Wordageddon!" styleClass="title-label">
                    <font>
                        <Font name="System Bold" size="24.0" />
                    </font>
                </Label>

                <!-- Nome utente -->
                <Label fx:id="usernameWelcomeLabel" text="Ciao, [nome_username]!" styleClass="username-welcome">
                    <font>
                        <Font name="System" size="16.0" />
                    </font>
                </Label>

                <!-- Sottotitolo per la selezione -->
                <Label fx:id="difficultySubtitleLabel" text="Scegli un livello di difficoltà per iniziare"
                       styleClass="subtitle-label" wrapText="true" textAlignment="CENTER">
                    <font>
                        <Font name="System" size="14.0" />
                    </font>
                </Label>
            </VBox>

            <!-- Sezione radiobutton per difficoltà -->
            <VBox spacing="15.0" alignment="CENTER" maxWidth="350.0">
                <Label text="Livello di Difficoltà:" styleClass="field-label">
                    <font>
                        <Font name="System Bold" size="15.0" />
                    </font>
                </Label>

                <!-- Container per i radiobutton con miglior spaziatura -->
                <VBox spacing="12.0" alignment="CENTER_LEFT" prefWidth="320.0">
                    <RadioButton fx:id="easyRadio" text="★ FACILE - Domande base" styleClass="difficulty-radio easy-level"
                                 prefWidth="300.0" prefHeight="30.0">
                        <font>
                            <Font size="14.0" />
                        </font>
                        <toggleGroup>
                            <ToggleGroup fx:id="difficultyToggleGroup" />
                        </toggleGroup>
                    </RadioButton>

                    <RadioButton fx:id="mediumRadio" text="★★ MEDIO - Domande intermedie" styleClass="difficulty-radio medium-level"
                                 toggleGroup="$difficultyToggleGroup" selected="true"
                                 prefWidth="300.0" prefHeight="30.0">
                        <font>
                            <Font size="14.0" />
                        </font>
                    </RadioButton>

                    <RadioButton fx:id="hardRadio" text="★★★ DIFFICILE - Domande avanzate" styleClass="difficulty-radio hard-level"
                                 toggleGroup="$difficultyToggleGroup"
                                 prefWidth="300.0" prefHeight="30.0">
                        <font>
                            <Font size="14.0" />
                        </font>
                    </RadioButton>
                </VBox>
            </VBox>

            <!-- Container per i bottoni principali -->
            <VBox spacing="15.0" alignment="CENTER">
                <!-- Bottone Start principale -->
                <Button fx:id="startGameButton" defaultButton="true"
                        prefWidth="250.0" prefHeight="45.0"
                        text="Inizia Gioco"
                        styleClass="primary-button" onAction="#handleStartGame">
                    <font>
                        <Font name="System Bold" size="16.0" />
                    </font>
                </Button>
            </VBox>

        </VBox>
    </VBox>

    <!-- VBox originale per la visualizzazione del testo durante il gioco -->
    <VBox fx:id="testoVBox" alignment="CENTER" prefHeight="400.0" prefWidth="500.0" spacing="20.0" xmlns="http://javafx.com/javafx/8" visible="false" managed="false" >
        <children>
            <!-- Titolo principale -->
            <Label fx:id="titleQuiz" text="Titolo">
                <font>
                    <Font name="System Bold" size="24.0" />
                </font>
            </Label>

            <!-- Timer visuale basato sul tempo -->
            <VBox alignment="CENTER" spacing="10.0">
                <children>
                    <Label fx:id="timeLabel" text="" textFill="#333333">
                        <font>
                            <Font name="Courier New Bold" size="20.0" />
                        </font>
                    </Label>
                    <ProgressBar fx:id="timeProgressBar" prefHeight="20.0" prefWidth="300.0" progress="0.0" style="-fx-accent: #2196F3;" />

                </children>
            </VBox>

            <!-- Area di visualizzazione testo -->
            <ScrollPane fitToWidth="true" prefHeight="350.0" maxWidth="500.0">
                <content>
                    <Label fx:id="displayTextLabel"
                           alignment="CENTER"
                           style="-fx-background-color: #f0f0f0; -fx-border-color: #cccccc; -fx-border-width: 1px; -fx-padding: 10px;"
                           text="Il testo apparirà qui..."
                           textAlignment="CENTER"
                           wrapText="true">
                        <font>
                            <Font size="16.0" />
                        </font>
                    </Label>
                </content>
            </ScrollPane>


            <!-- Label per informazioni aggiuntive -->

        </children>
        <padding>
            <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
        </padding>
    </VBox>

    <VBox fx:id="domandaRispostaVBox" stylesheets="@../css/login-style.css" alignment="TOP_CENTER" prefHeight="600.0" prefWidth="700.0" spacing="20.0" visible="false" managed="false">
        <children>
            <Label text="Quiz di Valutazione">
                <font>
                    <Font name="System Bold" size="24.0" />
                </font>
            </Label>

            <ScrollPane fitToWidth="true" prefHeight="450.0" prefWidth="650.0">
                <content>
                    <VBox spacing="25.0">
                        <children>
                            <!-- DOMANDA 1 -->
                            <VBox spacing="10.0" style="-fx-background-color: #f8f9fa; -fx-padding: 15px; -fx-background-radius: 5px;">
                                <children>
                                    <Label fx:id="q1" text="1. Quale è la capitale d'Italia?" textFill="#2c3e50">
                                        <font>
                                            <Font name="System Bold" size="16.0" />
                                        </font>
                                    </Label>
                                    <fx:define>
                                        <ToggleGroup fx:id="gruppoDomanda1"/>
                                    </fx:define>
                                    <RadioButton fx:id="q1opt1" text="Milano" toggleGroup="$gruppoDomanda1" />
                                    <RadioButton fx:id="q1opt2" text="Roma" toggleGroup="$gruppoDomanda1" />
                                    <RadioButton fx:id="q1opt3" text="Napoli"  toggleGroup="$gruppoDomanda1"/>
                                    <RadioButton fx:id="q1opt4" text="Torino" toggleGroup="$gruppoDomanda1" />
                                </children>
                            </VBox>

                            <!-- DOMANDA 2 -->
                            <VBox spacing="10.0" style="-fx-background-color: #f8f9fa; -fx-padding: 15px; -fx-background-radius: 5px;">
                                <children>
                                    <Label fx:id="q2" text="2. Quanti continenti ci sono nel mondo?" textFill="#2c3e50">
                                        <font>
                                            <Font name="System Bold" size="16.0" />
                                        </font>
                                    </Label>
                                    <fx:define>
                                        <ToggleGroup fx:id="gruppoDomanda2"/>
                                    </fx:define>
                                    <RadioButton fx:id="q2opt1" text="5" toggleGroup="$gruppoDomanda2" />
                                    <RadioButton fx:id="q2opt2" text="6" toggleGroup="$gruppoDomanda2"/>
                                    <RadioButton fx:id="q2opt3" text="7" toggleGroup="$gruppoDomanda2" />
                                    <RadioButton fx:id="q2opt4" text="8" toggleGroup="$gruppoDomanda2" />
                                </children>
                            </VBox>

                            <!-- DOMANDA 3 -->
                            <VBox spacing="10.0" style="-fx-background-color: #f8f9fa; -fx-padding: 15px; -fx-background-radius: 5px;">
                                <children>
                                    <Label fx:id="q3" text="3. Quale pianeta è più vicino al Sole?" textFill="#2c3e50">
                                        <font>
                                            <Font name="System Bold" size="16.0" />
                                        </font>
                                    </Label>
                                    <fx:define>
                                        <ToggleGroup fx:id="gruppoDomanda3"/>
                                    </fx:define>
                                    <RadioButton fx:id="q3opt1" text="Venere" toggleGroup="$gruppoDomanda3" />
                                    <RadioButton fx:id="q3opt2" text="Mercurio" toggleGroup="$gruppoDomanda3"/>
                                    <RadioButton fx:id="q3opt3" text="Terra" toggleGroup="$gruppoDomanda3" />
                                    <RadioButton fx:id="q3opt4" text="Marte" toggleGroup="$gruppoDomanda3"/>
                                </children>
                            </VBox>

                            <!-- DOMANDA 4 -->
                            <VBox spacing="10.0" style="-fx-background-color: #f8f9fa; -fx-padding: 15px; -fx-background-radius: 5px;">
                                <children>
                                    <Label fx:id="q4" text="4. Quale è l'oceano più grande?" textFill="#2c3e50">
                                        <font>
                                            <Font name="System Bold" size="16.0" />
                                        </font>
                                    </Label>
                                    <fx:define>
                                        <ToggleGroup fx:id="gruppoDomanda4"/>
                                    </fx:define>
                                    <RadioButton fx:id="q4opt1" text="Oceano Atlantico" toggleGroup="$gruppoDomanda4" />
                                    <RadioButton fx:id="q4opt2" text="Oceano Indiano" toggleGroup="$gruppoDomanda4"/>
                                    <RadioButton fx:id="q4opt3" text="Oceano Pacifico" toggleGroup="$gruppoDomanda4"/>
                                    <RadioButton fx:id="q4opt4" text="Oceano Artico" toggleGroup="$gruppoDomanda4"/>
                                </children>
                            </VBox>
                        </children>
                        <padding>
                            <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                        </padding>
                    </VBox>
                </content>
            </ScrollPane>

            <HBox alignment="CENTER" spacing="20.0">
                <children>
                    <Button  fx:id="nextButton" alignment="BOTTOM_CENTER" defaultButton="true" prefWidth="250.0" text="Avanti"
                             styleClass="primary-button" onAction="#finishGame" />
                </children>
            </HBox>
        </children>
        <padding>
            <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
        </padding>
    </VBox>


    <!--Sezione di riepilgo-->
    <VBox fx:id="riepilogoVBox"
          spacing="15"
          alignment="TOP_LEFT"
          style="-fx-padding: 20;"
            visible="false"
          managed="false"
          stylesheets="@../css/login-style.css"
    >

        <Label text="Riepilogo Risposte" style="-fx-font-size: 20px; -fx-font-weight: bold;" />

        <!-- Blocco 1 -->
        <VBox spacing="5" style="-fx-border-color: lightgray; -fx-padding: 10;">
            <Label fx:id="domanda1Label" text="Domanda: Qual è la capitale d'Italia?" />
            <Label fx:id="risposta1UtenteLabel" text="Tua risposta: Milano" style="-fx-text-fill: red;" />
            <Label fx:id="risposta1CorrettaLabel"  text="Risposta corretta: Roma"   />
        </VBox>

        <!-- Blocco 2 -->
        <VBox spacing="5" style="-fx-border-color: lightgray; -fx-padding: 10;">
            <Label fx:id="domanda2Label" text="Domanda: 2 + 2 = ?" />
            <Label fx:id="risposta2UtenteLabel" text="Tua risposta: 4" style="-fx-text-fill: green;" />
            <Label fx:id="risposta2CorrettaLabel" text="Risposta corretta: 4" />
        </VBox>

        <VBox spacing="5" style="-fx-border-color: lightgray; -fx-padding: 10;">
            <Label fx:id="domanda3Label" text="Domanda: 2 + 2 = ?" />
            <Label fx:id="risposta3UtenteLabel" text="Tua risposta: 4" style="-fx-text-fill: green;" />
            <Label fx:id="risposta3CorrettaLabel" text="Risposta corretta: "  />
        </VBox>


        <VBox spacing="5" style="-fx-border-color: lightgray; -fx-padding: 10;">
            <Label fx:id="domanda4Label" text="Domanda: 2 + 2 = ?" />
            <Label fx:id="risposta4UtenteLabel" text="Tua risposta: 4" style="-fx-text-fill: green;" />
            <Label fx:id="risposta4CorrettaLabel" text="Risposta corretta: 4  "    />
        </VBox>

        <!-- Puoi aggiungerne altri manualmente -->
        <HBox alignment="BOTTOM_CENTER">
            <Button  alignment="BOTTOM_CENTER" defaultButton="true" prefWidth="250.0" text="Avanti"
                     styleClass="primary-button" onAction="#vaiAlPunteggio" />
        </HBox>

    </VBox>


    <VBox fx:id="finalScoreVBox" stylesheets="@../css/login-style.css"
          alignment="CENTER" prefHeight="600.0" prefWidth="700.0" spacing="20.0" visible="false" managed="false">

        <Label fx:id="scoreLabel"
               text="Punteggio finale: 0"
               style="-fx-font-size: 28px; -fx-text-fill: #222; -fx-alignment: center;" />


    <HBox alignment="BOTTOM_CENTER">
        <Button  alignment="BOTTOM_CENTER" defaultButton="true" prefWidth="250.0" text="Avanti"
                 styleClass="primary-button" onAction="#goToScoreboard" />
    </HBox>

    </VBox>



    <VBox spacing="15" alignment="CENTER" fx:id="scoreboardVBox" visible="false" managed="false"
          stylesheets="@../css/login-style.css">

        <padding>
            <Insets top="20" right="20" bottom="20" left="20"/>
        </padding>

        <!-- Selettori di difficoltà in alto -->
        <HBox spacing="10" alignment="CENTER">
            <Label text="Filtra per difficoltà:" style="-fx-font-weight: bold;"/>
            <ToggleButton fx:id="facileButton" text="FACILE"
                          style="-fx-background-color: #8BC34A; -fx-text-fill: white;"/>
            <ToggleButton fx:id="medioButton" text="MEDIO"
                          style="-fx-background-color: #FF9800; -fx-text-fill: white;"/>
            <ToggleButton fx:id="difficileButton" text="DIFFICILE"
                          style="-fx-background-color: #F44336; -fx-text-fill: white;"/>
        </HBox>

        <!-- CheckBox per punteggi personali -->
        <CheckBox fx:id="punteggiPersonaliCheckBox" text="Punteggi Personali"/>


        <!-- Layout principale con statistiche a sinistra e tabella a destra -->
        <HBox spacing="20" VBox.vgrow="ALWAYS" maxWidth="800">

            <!-- Pannello sinistro - Statistiche -->
            <VBox spacing="15" minWidth="200" style="-fx-border-color: #E0E0E0; -fx-border-radius: 5; -fx-padding: 15;">
                <Label text="STATISTICHE" style="-fx-font-weight: bold; -fx-font-size: 14px;"/>

                <VBox spacing="8">
                    <Label text="Punteggio Medio:" style="-fx-font-weight: bold;"/>
                    <Label fx:id="punteggioMedioLabel" text="0.0"
                           style="-fx-font-size: 18px; -fx-text-fill: #2196F3;"/>
                </VBox>

                <VBox spacing="8">
                    <Label text="Miglior Punteggio:" style="-fx-font-weight: bold;"/>
                    <Label fx:id="migliorPunteggioLabel" text="0"
                           style="-fx-font-size: 18px; -fx-text-fill: #4CAF50;"/>
                </VBox>

                <VBox spacing="8">
                    <Label text="Numero Partite:" style="-fx-font-weight: bold;"/>
                    <Label fx:id="numeroPartiteLabel" text="0"
                           style="-fx-font-size: 16px; -fx-text-fill: #666666;"/>
                </VBox>
            </VBox>

            <!-- Pannello destro - Tabella score totali -->
            <VBox spacing="10" HBox.hgrow="ALWAYS">
                <Label text="CLASSIFICA GENERALE" style="-fx-font-weight: bold; -fx-font-size: 14px;"/>

                <TableView fx:id="tableView" VBox.vgrow="ALWAYS">
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                    </columnResizePolicy>
                    <columns>
                        <TableColumn fx:id="utenteColumn" text="UTENTE" prefWidth="150"/>
                        <TableColumn fx:id="scoreColumn" text="SCORE TOTALE" prefWidth="120"/>
                    </columns>
                </TableView>
            </VBox>

        </HBox>

        <!-- Bottone in basso -->
        <Button fx:id="restartGameButton" alignment="BOTTOM_CENTER" defaultButton="true" prefWidth="150.0" prefHeight="50.0" text="Ricomincia Gioco"
                 styleClass="primary-button" onAction="#restartGame" />

        <Button fx:id="goBackButton" alignment="BOTTOM_CENTER" defaultButton="true" prefWidth="150.0" prefHeight="50.0" text="Indietro"
                 styleClass="primary-button" managed="false" visible="false" onAction="#goBack2" />

    </VBox>


    <VBox fx:id="settingsVBox"
          spacing="0"
          visible="false"
          managed="false"
          stylesheets="@../css/settings-style.css"
          styleClass="settings-container">

        <padding>
            <Insets top="32" right="32" bottom="32" left="32"/>
        </padding>

        <!-- Header principale -->
        <VBox spacing="0" styleClass="header-container">
            <HBox alignment="CENTER_LEFT" spacing="12" styleClass="header-top">
                <!-- Parte sinistra: freccia e titolo -->
                <HBox alignment="CENTER_LEFT" spacing="12" HBox.hgrow="ALWAYS">
                    <Button fx:id="backButton" onAction="#goBack" styleClass="back-button">
                        <graphic>
                            <Label text="←" styleClass="back-button-label" />
                        </graphic>
                    </Button>

                    <Region styleClass="header-divider" />
                    <Label text="IMPOSTAZIONI" styleClass="header-title" />
                </HBox>
            </HBox>
            <Separator styleClass="header-separator" />
        </VBox>

        <!-- Contenuto principale -->
        <VBox spacing="20" VBox.vgrow="ALWAYS" styleClass="main-content">
            <!-- Sezione Username -->
            <VBox spacing="8" styleClass="settings-section">
                <padding>
                    <Insets top="24" right="24" bottom="24" left="24"/>
                </padding>
                <HBox alignment="CENTER_LEFT" spacing="12">
                    <Label text="Gestione Username" styleClass="section-title"/>
                </HBox>
                <Label text="Modifica il tuo nome utente" styleClass="section-description"/>
                <HBox alignment="CENTER_LEFT" spacing="12" styleClass="input-container">
                    <TextField fx:id="usernameFieldSettings"
                               promptText="Inserisci username"
                               styleClass="settings-textfield"
                               HBox.hgrow="ALWAYS"/>
                    <Button text="Salva"
                            fx:id="saveUsernameSettings"
                            onAction="#saveUsername"
                            styleClass="save-button"/>
                </HBox>
            </VBox>

            <!-- Sezione Password -->
            <VBox spacing="8" styleClass="settings-section">
                <padding>
                    <Insets top="24" right="24" bottom="24" left="24"/>
                </padding>
                <HBox alignment="CENTER_LEFT" spacing="12">
                    <Label text="Gestione Password" styleClass="section-title"/>
                </HBox>
                <Label text="Modifica la tua password" styleClass="section-description"/>
                <VBox spacing="12" styleClass="input-container">
                    <PasswordField fx:id="passwordFieldSettings"
                                   promptText="Password attuale"
                                   styleClass="settings-textfield"/>
                    <HBox spacing="12">
                        <PasswordField fx:id="passwordFieldNewSettings"
                                       promptText="Nuova password"
                                       styleClass="settings-textfield"
                                       HBox.hgrow="ALWAYS"/>
                        <Button fx:id="changePasswordButton"
                                text="Salva"
                                onAction="#savePassword"
                                styleClass="save-button"/>
                    </HBox>
                </VBox>
            </VBox>

            <!-- Sezione Admin -->
            <VBox fx:id="adminSection"
                  visible="false"
                  managed="false"
                  spacing="8"
                  styleClass="settings-section, admin-section">
                <padding>
                    <Insets top="24" right="24" bottom="24" left="24"/>
                </padding>
                <HBox alignment="CENTER_LEFT" spacing="12">
                    <Label text="Funzioni Amministratore" styleClass="section-title"/>
                </HBox>
                <Label text="Gestione funzionalità avanzate" styleClass="section-description"/>
                <HBox spacing="12" styleClass="admin-buttons-container">
                    <Button text="Carica Stopwords"
                            fx:id="addStopwordsButton"
                            onAction="#loadStopwords"
                            styleClass="admin-button-red"/>
                    <Button text="Gestisci documenti"
                            onAction="#goToDocuments"
                            styleClass="admin-button-gray"/>
                </HBox>
            </VBox>
        </VBox>
    </VBox>


    <VBox fx:id="sezioneDocumenti"
          visible="false"
          managed="false"
          spacing="0"
          styleClass="sezione-documenti"
          stylesheets="@../css/docs-style.css">
        <padding>
            <Insets top="32" right="32" bottom="32" left="32"/>
        </padding>

        <!-- Header principale -->
        <VBox spacing="0" styleClass="header-container">
            <HBox alignment="CENTER_LEFT" spacing="12" styleClass="header-top">
                <!-- Parte sinistra: freccia e titolo -->
                <HBox alignment="CENTER_LEFT" spacing="12" HBox.hgrow="ALWAYS">
                    <!-- Freccia per tornare indietro -->
                    <Button fx:id="btnTornaIndietro"
                            onAction="#returnToSettingsFromDocumentiSection"
                            styleClass="btn-torna-indietro">
                        <graphic>
                            <Label text="←" styleClass="btn-torna-indietro-label" />
                        </graphic>
                    </Button>

                    <Region styleClass="header-divider" />
                    <Label text="DOCUMENTI CARICATI" styleClass="header-title" />
                </HBox>

                <!-- Pulsante aggiungi documento -->
                <Button fx:id="btnAggiungiDocumento"
                        onAction="#addTesto"
                        styleClass="btn-aggiungi-documento">
                    <graphic>
                        <HBox alignment="CENTER" spacing="6">
                            <Label text="+" styleClass="btn-aggiungi-documento-plus" />
                            <Label text="Aggiungi" styleClass="btn-aggiungi-documento-text" />
                        </HBox>
                    </graphic>
                </Button>
            </HBox>
            <Separator styleClass="header-separator" />
        </VBox>

        <!-- Sezione principale -->
        <VBox spacing="20" VBox.vgrow="ALWAYS">
            <!-- Header descrittivo -->
            <VBox spacing="8">
                <HBox alignment="CENTER_LEFT" spacing="12">
                    <Label text="Documenti Caricati" styleClass="main-header-title" />
                </HBox>
                <Label text="Clicca su un documento per visualizzarlo o eliminalo utilizzando il pulsante rosso"
                       styleClass="main-description" />
            </VBox>

            <!-- Contenitore lista documenti -->
            <VBox spacing="0" VBox.vgrow="ALWAYS" styleClass="documents-container">
                <!-- Header lista (opzionale, nascosto se vuoto) -->
                <HBox alignment="CENTER_LEFT" spacing="0" styleClass="list-header">
                    <Label text="Fai clic su un documento per aprirlo"
                           styleClass="list-header-text" />
                </HBox>

                <!-- Lista documenti scrollabile -->
                <ScrollPane fitToWidth="true"
                            VBox.vgrow="ALWAYS"
                            fitToHeight="false"
                            styleClass="documents-scroll">

                    <!-- Questo è il contenitore che userai nel tuo codice Java -->
                    <VBox fx:id="documentsList"
                          spacing="12"
                          styleClass="documents-list"
                          VBox.vgrow="ALWAYS"
                          alignment="TOP_CENTER">

                        <!-- Placeholder quando non ci sono documenti -->
                        <VBox fx:id="noDocumentsPlaceholder"
                              managed="false"
                              visible="false"
                              alignment="CENTER"
                              spacing="16"
                              styleClass="no-documents-placeholder">
                            <VBox alignment="CENTER" spacing="8">
                                <Label text="Nessun documento caricato"
                                       styleClass="placeholder-title" />
                                <Label text="I tuoi documenti appariranno qui una volta caricati"
                                       styleClass="placeholder-description" />
                            </VBox>
                        </VBox>

                    </VBox>
                </ScrollPane>
            </VBox>
        </VBox>
    </VBox>



    <VBox visible="false" fx:id="documentoSection" spacing="0" alignment="TOP_LEFT"
          style="-fx-background-color: white; -fx-background-radius: 16; -fx-padding: 32; -fx-border-color: #E5E7EB; -fx-border-width: 1; -fx-border-radius: 16; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 12, 0, 0, 4);">

        <!-- Header principale con bottone indietro -->
        <VBox spacing="0" style="-fx-padding: 0 0 28 0;">
            <HBox alignment="CENTER_LEFT" spacing="12" style="-fx-padding: 0 0 12 0;">
                <!-- Bottone Indietro -->
                <Button fx:id="indietroButton" text="← Indietro" onAction="#vaiAiDocumenti"
                        style="-fx-background-color: #F3F4F6; -fx-text-fill: #6B7280; -fx-font-family: 'Segoe UI Semibold', sans-serif; -fx-font-size: 12; -fx-font-weight: 600; -fx-padding: 8 16; -fx-background-radius: 8; -fx-border-color: #E5E7EB; -fx-border-width: 1; -fx-border-radius: 8; -fx-cursor: hand;"/>

                <!-- Spacer -->
                <Region HBox.hgrow="ALWAYS" />

                <!-- Titolo sezione -->
                <HBox alignment="CENTER_LEFT" spacing="12">
                    <Region style="-fx-background-color: #3B82F6; -fx-pref-width: 4; -fx-pref-height: 24; -fx-background-radius: 2;" />
                    <Label text="DOCUMENTO" style="-fx-font-family: 'Segoe UI Semibold', sans-serif; -fx-font-size: 12; -fx-font-weight: 600; -fx-text-fill: #6B7280; -fx-letter-spacing: 0.5px;" />
                </HBox>
            </HBox>
            <Separator style="-fx-background-color: #F3F4F6; -fx-pref-height: 1;" />
        </VBox>

        <!-- Sezione Titolo -->
        <VBox spacing="12" style="-fx-padding: 0 0 32 0;">
            <HBox alignment="CENTER_LEFT" spacing="8">
                <Label text="●" style="-fx-font-size: 8; -fx-text-fill: #3B82F6;" />
                <Label text="Titolo" style="-fx-font-family: 'Segoe UI Semibold', sans-serif; -fx-font-size: 14; -fx-font-weight: 600; -fx-text-fill: #374151;" />
            </HBox>
            <VBox style="-fx-padding: 16 20; -fx-background-color: #F9FAFB; -fx-background-radius: 12; -fx-border-color: #E5E7EB; -fx-border-width: 1; -fx-border-radius: 12;">
                <Label fx:id="titoloDocumentoLabel" wrapText="true"
                       style="-fx-font-family: 'Segoe UI', sans-serif; -fx-font-size: 18; -fx-font-weight: 600; -fx-text-fill: #111827; -fx-line-spacing: 2;" />
            </VBox>
        </VBox>

        <!-- Sezione Difficoltà -->
        <VBox spacing="12" style="-fx-padding: 0 0 32 0;">
            <HBox alignment="CENTER_LEFT" spacing="8">
                <Label text="●" style="-fx-font-size: 8; -fx-text-fill: #3B82F6;" />
                <Label text="Livello di Difficoltà" style="-fx-font-family: 'Segoe UI Semibold', sans-serif; -fx-font-size: 14; -fx-font-weight: 600; -fx-text-fill: #374151;" />
            </HBox>
            <HBox alignment="CENTER_LEFT" style="-fx-padding: 16 20; -fx-background-color: #F9FAFB; -fx-background-radius: 12; -fx-border-color: #E5E7EB; -fx-border-width: 1; -fx-border-radius: 12;">
                <HBox alignment="CENTER_LEFT" spacing="12">
                    <Region style="-fx-background-color: linear-gradient(to right, #3B82F6, #1D4ED8); -fx-pref-width: 6; -fx-pref-height: 24; -fx-background-radius: 3;" />
                    <Label fx:id="difficoltaDocumentoLabel"
                           style="-fx-font-family: 'Segoe UI Semibold', sans-serif; -fx-font-size: 14; -fx-font-weight: 600; -fx-text-fill: #1F2937; -fx-letter-spacing: 0.3px;" />
                </HBox>
            </HBox>
        </VBox>

        <!-- Sezione Contenuto -->
        <VBox spacing="12" VBox.vgrow="ALWAYS">
            <HBox alignment="CENTER_LEFT" spacing="8">
                <Label text="●" style="-fx-font-size: 8; -fx-text-fill: #3B82F6;" />
                <Label text="Contenuto del Documento" style="-fx-font-family: 'Segoe UI Semibold', sans-serif; -fx-font-size: 14; -fx-font-weight: 600; -fx-text-fill: #374151;" />
            </HBox>

            <VBox VBox.vgrow="ALWAYS" spacing="0"
                  style="-fx-background-color: #FEFEFE; -fx-background-radius: 12; -fx-border-color: #E5E7EB; -fx-border-width: 1; -fx-border-radius: 12; -fx-padding: 2;">
                <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS"
                            style="-fx-background-color: transparent; -fx-background: transparent; -fx-background-radius: 12;">
                    <TextArea fx:id="contenutoDocumentoTextArea" wrapText="true" editable="false"
                              prefRowCount="14"
                              style="-fx-font-family: 'Segoe UI', sans-serif; -fx-font-size: 14; -fx-line-spacing: 4; -fx-text-fill: #1F2937; -fx-background-color: transparent; -fx-background-radius: 12; -fx-border-color: transparent; -fx-border-width: 0; -fx-padding: 20; -fx-focus-color: transparent; -fx-faint-focus-color: transparent; -fx-text-box-border: transparent; -fx-control-inner-background: transparent;" />
                </ScrollPane>

                <!-- Indicatore di scroll -->
                <HBox alignment="CENTER" style="-fx-padding: 8 0 12 0;">
                    <Region style="-fx-background-color: #D1D5DB; -fx-pref-width: 32; -fx-pref-height: 3; -fx-background-radius: 2;" />
                </HBox>
            </VBox>
        </VBox>

        <!-- Footer con metadati -->
        <HBox alignment="CENTER_LEFT" spacing="16" style="-fx-padding: 24 0 0 0;">
            <Region style="-fx-background-color: #F3F4F6; -fx-pref-height: 1;" HBox.hgrow="ALWAYS" />
            <Label text="Documento di sistema" style="-fx-font-family: 'Segoe UI', sans-serif; -fx-font-size: 11; -fx-text-fill: #9CA3AF; -fx-font-style: italic;" />
            <Region style="-fx-background-color: #F3F4F6; -fx-pref-height: 1;" HBox.hgrow="ALWAYS" />
        </HBox>
    </VBox>



</StackPane>